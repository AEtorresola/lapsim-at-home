
### Aerodynamic Drag Force

The aerodynamic drag force is the force that opposes the motion of an object through the air. It is caused by the air resistance acting on the object's surface. The aerodynamic drag force is proportional to the square of the object's velocity and depends on the object's shape and size.

The equation for the aerodynamic drag force is:

$$
F_{aero} = \frac{1}{2} \cdot \rho \cdot C_d \cdot A \cdot v^2
$$

Where:

*   $F_{aero}$ is the aerodynamic drag force (in Newtons, N).
*   $\rho$ is the air density (in kilograms per cubic meter, kg/m³).  A standard value at sea level is approximately 1.225 kg/m³.
*   $C_d$ is the drag coefficient (dimensionless). This coefficient depends on the shape of the object. A lower value indicates a more aerodynamic shape.
*   $A$ is the frontal area of the object (in square meters, m²). This is the area of the object that is facing the direction of motion.
*   $v$ is the velocity of the object (in meters per second, m/s).


### Rolling Resistance Force

The rolling resistance force is the force that opposes the motion of a rolling object on a surface. It is caused by the deformation of the object and the surface at the point of contact. The rolling resistance force is proportional to the normal force and depends on the rolling resistance coefficient.

The equation for the rolling resistance force is:

$$
F_{rolling} = C_{rr} \cdot m \cdot g
$$

Where:

*   $F_{rolling}$ is the rolling resistance force (in Newtons, N).
*   $C_{rr}$ is the rolling resistance coefficient (dimensionless). This coefficient depends on the materials of the rolling object and the surface. Typical values for car tires on asphalt range from 0.01 to 0.03.
*   $m$ is the mass of the rolling object (in kilograms, kg).
*   $g$ is the acceleration due to gravity (approximately 9.81 meters per second squared, m/s²).




### Updated Traction and Braking Force Calculations (RWD with Weight Transfer)

To accurately model the traction and braking forces, we need to consider:

1.  **Weight Transfer:** During acceleration and braking, weight shifts between the front and rear axles, affecting the normal forces on the tires and thus the available grip.
2.  **RWD Configuration:** In a rear-wheel-drive vehicle, the traction force is limited by the grip of the rear tires only. The braking force is distributed between the front and rear tires.

#### 1. Weight Transfer

The normal forces on the front and rear tires are affected by weight transfer due to longitudinal acceleration ($a_x$):

$$
N_f = \frac{m \cdot g \cdot L_r}{L} - \frac{m \cdot a_x \cdot h}{L}
$$

$$
N_r = \frac{m \cdot g \cdot L_f}{L} + \frac{m \cdot a_x \cdot h}{L}
$$

Where:

*   $N_f$ is the normal force on the front tires (N).
*   $N_r$ is the normal force on the rear tires (N).
*   $m$ is the mass of the car (kg).
*   $g$ is the acceleration due to gravity (9.81 m/s²).
*   $L_f$ is the distance from the front axle to the center of gravity (m).
*   $L_r$ is the distance from the rear axle to the center of gravity (m).
*   $L$ is the wheelbase (distance between front and rear axles, $L = L_f + L_r$ ) (m).
*   $a_x$ is the longitudinal acceleration (m/s²).  Positive for acceleration, negative for braking.
*   $h$ is the height of the center of gravity (m).

#### 2. Traction Force (RWD)

In a rear-wheel-drive vehicle, the traction force is limited by the grip of the rear tires:

$$
F_{traction} = min(F_{motor}, \mu \cdot N_r)
$$

Where:

*   $F_{traction}$ is the traction force (N).
*   $F_{motor}$ is the force generated by the motor at the wheels (N), calculated as before: $F_{motor} = \frac{T_{wheel} \cdot \eta_{drivetrain}}{r_{tire}}$
*   $\mu$ is the tire grip coefficient (dimensionless).
*   $N_r$ is the normal force on the rear tires (N), calculated with weight transfer.

#### 3. Braking Force

The braking force is distributed between the front and rear tires. We'll use a braking force distribution factor $\beta$ (0 to 1, where 0 is all braking force on the rear and 1 is all braking force on the front):

$$
F_{braking, front} = \beta \cdot F_{brake}
$$

$$
F_{braking, rear} = (1 - \beta) \cdot F_{brake}
$$

Where:

*   $F_{braking, front}$ is the braking force on the front tires (N).
*   $F_{braking, rear}$ is the braking force on the rear tires (N).
*   $F_{brake}$ is the total braking force (N), calculated based on the driver's brake input: $F_{brake} = brake\_input \cdot \mu \cdot m \cdot g$
*   $\beta$ is the braking force distribution factor (dimensionless).

The total braking force is limited by the grip of the tires, considering weight transfer:

$$
F_{braking, front} \le \mu \cdot N_f
$$

$$
F_{braking, rear} \le \mu \cdot N_r
$$

If the calculated braking forces exceed the tire grip limits, they need to be reduced proportionally.

